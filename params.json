{"name":"Node-jmx","tagline":"node.js library to connect with java applications through JMX.","body":"# node-jmx\r\n\r\n[![NPM version](https://badge.fury.io/js/jmx.svg)](http://badge.fury.io/js/jmx)\r\n[![Code Climate](http://img.shields.io/codeclimate/github/zuazo/node-jmx.svg)](https://codeclimate.com/github/zuazo/node-jmx)\r\n[![Build Status](http://img.shields.io/travis/zuazo/node-jmx.svg)](https://travis-ci.org/zuazo/node-jmx)\r\n[![Coverage Status](http://img.shields.io/coveralls/zuazo/node-jmx.svg)](https://coveralls.io/r/zuazo/node-jmx?branch=master)\r\n\r\nNode.js bridge library to communicate with Java applications through JMX.\r\n\r\n## Requirements\r\n\r\n* Tested with node `>= 0.10`.\r\n* Java version `6` or higher.\r\n* `node-java`: See [its installation instructions](https://github.com/joeferner/node-java/tree/v0.6.0#installation)\r\n\r\n## Installation\r\n\r\n    $ npm install jmx\r\n\r\n## Usage examples\r\n\r\n```js\r\nvar jmx = require(\"jmx\");\r\n\r\nclient = jmx.createClient({\r\n  host: \"localhost\", // optional\r\n  port: 3000\r\n});\r\n\r\nclient.connect();\r\nclient.on(\"connect\", function() {\r\n\r\n  client.getAttribute(\"java.lang:type=Memory\", \"HeapMemoryUsage\", function(data) {\r\n    var used = data.getSync('used');\r\n    console.log(\"HeapMemoryUsage used: \" + used.longValue);\r\n    // console.log(data.toString());\r\n  });\r\n\r\n  client.setAttribute(\"java.lang:type=Memory\", \"Verbose\", true, function() {\r\n    console.log(\"Memory verbose on\"); // callback is optional\r\n  });\r\n\r\n  client.invoke(\"java.lang:type=Memory\", \"gc\", [], function(data) {\r\n    console.log(\"gc() done\");\r\n  });\r\n\r\n});\r\n```\r\n\r\n```js\r\nclient = jmx.createClient({\r\n  service: \"service:jmx:rmi:///jndi/rmi://localhost:3000/jmxrmi\"\r\n});\r\n```\r\nYou can check the [node-java documentation](https://github.com/nearinfinity/node-java/blob/master/README.md#quick-examples) to learn how to work with java objects in node.js.\r\n\r\n## Documentation\r\n\r\n### jmx.createClient(options)\r\n\r\nReturns a `Client` object.\r\n\r\n#### options\r\n\r\n`options` is a hash table with the following values:\r\n\r\n* `service` - The full service URL string, with *host*, *port*, *protocol* and *urlPath* included. For example `\"service:jmx:rmi:///jndi/rmi://localhost:3000/jmxrmi\"`.\r\n* `host` - Hostname to connect to (defaults to `\"localhost\"`).\r\n* `port` - JMX port number to connect to.\r\n* `protocol` - Protocol to use (defaults to `\"rmi\"`).\r\n* `urlPath` - JMX URL Path (defaults to `\"/jndi/{protocol}://{host}:{port}/jmx{protocol}\"`).\r\n* `username` - JMX authentication username.\r\n* `password` - JMX authentication password.\r\n\r\n### Client.connect()\r\n\r\nConnects to the JMX server. Emits `connect` event when done.\r\n\r\n### Client.disconnect()\r\n\r\nDisconnects from the JMX server. Emits `disconnect` event when done.\r\n\r\n### Client.getAttribute(mbean, attribute, callback)\r\n\r\nReturns an attribute from a MBean.\r\n\r\n* `mbean` - MBean query address as string. For example \"java.lang:type=Memory\".\r\n* `attribute` - Attribute name as string.\r\n* `callback(attrValue)`\r\n\r\n### Client.getAttributes(mbean, attributes, callback)\r\n\r\nReturns an attribute list from a MBean.\r\n\r\n* `mbean` - MBean query address as string. For example \"java.lang:type=Memory\".\r\n* `attributes` - Attribute names as an array of strings.\r\n* `callback(attrValue)`\r\n\r\n### Client.getDefaultDomain(callback)\r\n\r\nReturns the default domain as string.\r\n\r\n* `callback(domainName)`\r\n\r\n### Client.getDomains(callback)\r\n\r\nReturns an array of domain names.\r\n\r\n* `callback(domainsArray)`\r\n\r\n### Client.getMBeanCount(callback)\r\n\r\nReturns total the number of MBeans.\r\n\r\n* `callback(mbeanCount)`\r\n\r\n### Client.invoke(mbean, methodName, params, [signature,] [callback])\r\n\r\nInvokes a MBean operation.\r\n\r\n* `mbean` - The MBean query address as string. For example `\"java.lang:type=Memory\"`.\r\n* `methodName` - The method name as string.\r\n* `params` - The parameters to pass to the operation as array. For example `[ 1, 5, \"param3\" ]`.\r\n* `signature` (optional) - An array with the signature of the *params*. Sometimes may be necessary to use this if class names are not correctly detected (gives a *NoSuchMethodException*). For example `[ \"int\", \"java.lang.Integer\", \"java.lang.String\" ]`.\r\n* `callback(returnedValue)`\r\n\r\n### Client.listMBeans(callback)\r\n\r\nLists server MBeans. Callback returns an array of strings containing MBean names.\r\n\r\n### Client.on(event, callback)\r\n\r\nAdds a listener for the especified event.\r\n\r\n#### events\r\n\r\n* `connect`\r\n* `disconnect`\r\n* `error` - Passes the error as first parameter to the callback function.\r\n\r\n### Client.setAttribute(mbean, attribute, value, [className,] [callback])\r\n\r\nChanges an attribute value of the MBean.\r\n\r\n* `mbean` - The MBean query address as string. For example `\"java.lang:type=Memory\"`.\r\n* `attribute` - The attribute name as string.\r\n* `value` - The attribute value.\r\n* `className` (optional) - The attribute java className. Sometimes may be necessary to use this if value type is not correctly detected (gives a *InvalidAttributeValueException*). For example `\"java.lang.Long\"`.\r\n* `callback()` (optional)\r\n\r\n## Error handling\r\n\r\nErrors are **not printed** to the console by default. You can catch them with something like the following:\r\n\r\n```js\r\nclient.on(\"error\", function(err) {\r\n  // ...\r\n});\r\n```\r\n\r\n## Debugging\r\n\r\nYou can enable debugging and error printing to console using `NODE_DEBUG` environment variable:\r\n\r\n    $ NODE_DEBUG=\"jmx\" node [...]\r\n\r\n## Testing\r\n\r\nSee [TESTING.md](https://github.com/zuazo/node-jmx/blob/master/TESTING.md).\r\n\r\n## Contributing\r\n\r\nPlease do not hesitate to [open an issue](https://github.com/zuazo/node-jmx/issues/new) with any questions or problems.\r\n\r\nSee [CONTRIBUTING.md](https://github.com/zuazo/node-jmx/blob/master/CONTRIBUTING.md).\r\n\r\n## TODO\r\n\r\nSee [TODO.md](https://github.com/zuazo/node-jmx/blob/master/TODO.md).\r\n\r\n## History\r\n\r\nSee [CHANGELOG.md](https://github.com/zuazo/node-jmx/blob/master/CHANGELOG.md).\r\n\r\n\r\n## License and Author\r\n\r\n|                      |                                          |\r\n|:---------------------|:-----------------------------------------|\r\n| **Author:**          | [Xabier de Zuazo](https://github.com/zuazo) (<xabier@zuazo.org>)\r\n| **Contributor:**     | [Eric](https://github.com/ericbroda)\r\n| **Copyright:**       | Copyright (c) 2015, Xabier de Zuazo\r\n| **Copyright:**       | Copyright (c) 2013-2015 Onddo Labs, SL.\r\n| **License:**         | Apache License, Version 2.0\r\n\r\n    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n    you may not use this file except in compliance with the License.\r\n    You may obtain a copy of the License at\r\n    \r\n        http://www.apache.org/licenses/LICENSE-2.0\r\n    \r\n    Unless required by applicable law or agreed to in writing, software\r\n    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n    See the License for the specific language governing permissions and\r\n    limitations under the License.\r\n","google":"UA-38093658-2","note":"Don't delete this file! It's used internally to help with page regeneration."}